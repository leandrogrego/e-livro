<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity"
	xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<head>
<title>Livraria - Livros</title>

</head>

<body>
  <div layout:fragment="corpo">
		<!-- Begin Page Content -->
	<div class="row justify-content-center">
		<div class="col-xl-11 col-lg-11 col-md-11 card o-hidden border-0 shadow-lg my-0">

			<!-- Page Heading -->
			<h1 class="h3 mb-2 text-gray-800">Livros</h1>

			<div class="card shadow mb-4">

				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-bordered" id="dataTable" width="100%"
							cellspacing="0">
							<thead>
								<th>
									<th class="col-3" >Foto</th>
									<th class="col-5" >Detalhes do Livro</th>
									<th class="col-2" >Ações</th>
								</th>
							</thead>
								<tbody>
								<tr th:each="livro : ${livros}" >
									<td>
										<img th:if="${livro.foto}" id="fotopreview" th:src="@{/livro/imagem/{id}(id=${livro.id})}"
												class="img-responsive img-thumbnail avatar-view rounded col-md-10 mb-5" />
									</td>
                                    <td >
										<img th:if="${livro.foto == null}" src="/img/book.png" id="uploadPreview"
												
												class="img-responsive img-thumbnail avatar-view rounded col-md-10 mb-5" />
									</td>
									<td class="col-md-6">
										<h2 th:text="${livro.titulo}"></h2> 
										Autores: 
										<span th:each="autor : ${livro.autores}" 
										th:text="${autor.nome}"></span>
										<br/> 
										Gênero:<span th:text="${livro.categoria}"></span> <br>
										Ano: <span th:text="${livro.ano}"></span> <br>
										ISBN: <span th:text="${{livro.isbn}}"></span> <br>
										Edição: <span th:text="${livro.edicao}"></span> <br> 
										Peso: <span th:text="${livro.peso}"></span> <br>
										Preços: <span th:text="${livro.valor}"></span> <br> 
										Editora: <span th:text="${livro.editora}"></span> <br>
										Sonópse: <br><Span th:text="${livro.sinopse}"></span>
									</td>
									<td class="col-md-3">
										<a class="btn btn-success mx-2 nt-3"
										th:href="@{/carrinho/add/{id}(id=${livro.id})}"><i
											class="fas fa-edit">Comprar</i></a>
										<a class="btn btn-danger mx-2 mt-3"
										th:href="@{/carrinho/add/{id}(id=${livro.id})}"><i
											class="fas fa-trash">Lista de Desejos</i></a></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
  </div>
</body>
</html>
	